/*!
 * VERSION: beta 0.12
 * DATE: 2012-06-04
 * JavaScript 
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.CSSRulePlugin",["plugins.TweenPlugin","TweenLite"],function(p){var l=function(){p.call(this,"cssRule");this._overwriteProps.pop()},m=l.prototype=new p("cssRule");m.constructor=l;l.API=2;l.suffixMap={top:"px",right:"px",bottom:"px",left:"px",width:"px",height:"px",fontSize:"px",padding:"px",margin:"px"};var n=/[^\d\-\.]/g,v=/(\d|\-|\+|=|#|\.)*/g,E=/\d+/g,w=/opacity=([^)]*)/,F=/([A-Z])/g,G=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,H= /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,o=Math.PI/180,q=document.createElement("div"),x=function(){var c=document.createElement("div"),a;c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>";return!(a=c.getElementsByTagName("a")[0])?!1:/^0.55/.test(a.style.opacity)}(),y=function(c){return null==c||""===c?r.transparent:r[c]?r[c]:"#"===c.charAt(0)?(4===c.length&&(c="#"+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)+c.charAt(3)+c.charAt(3)),c=parseInt(c.substr(1),16),[c>>16,c>>8&255,c&255]): c.match(E)||r.transparent},z=document.defaultView?document.defaultView.getComputedStyle:function(){},A=function(c,a,f,b){return!x&&"opacity"===a?w.test("string"===typeof c?c:(c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100:1:!b&&c.style[a]?c.style[a]:(f=f||z(c,null))?(c=f.getPropertyValue(a.replace(F,"-$1").toLowerCase()))||f.length?c:f[a]:c.currentStyle?c.currentStyle[a]:null},B={scaleX:1,scaleY:1,x:1,y:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},C,j= function(){for(var c=document.body||document.documentElement,a=z(c,""),f="O -o- Moz -moz- ms -ms- Webkit -webkit-".split(" "),b=9;-1<(b-=2)&&!A(c,f[b]+"transform",a););return 0<b?(C=f[b]+"transform",f[b-1]+"Transform"):null}();l.getRule=function(c){var a=document.all?"rules":"cssRules",f=document.styleSheets,b=f.length,e=":"===c.charAt(0),d,h,i,c=(e?"":",")+c+",";for(e&&(i=[]);-1<--b;){h=f[b][a];for(d=h.length;-1<--d;)if(-1!==(","+h[d].selectorText.split("::").join(":")+",").indexOf(c))if(e)i.push(h[d].style); else return h[d].style}return i};var D=function(c,a){q.cssText=c.cssText;var f;j?f=A(q,C,null,!0):q.currentStyle&&(f=(f=q.currentStyle.filter.match(G))&&4===f.length?f[0].substr(4)+","+Number(f[2].substr(4))+","+Number(f[1].substr(4))+","+f[3].substr(4)+",0,0":null);f=(f||"").replace(/[^\d\-\.e,]/g,"").split(",");var b=6<=f.length,e=b?Number(f[0]):1,d=b?Number(f[1]):0,h=b?Number(f[2]):0,i=b?Number(f[3]):1,g=a?c._gsTransform||{skewY:0}:{skewY:0},k=0>g.scaleX;g.x=b?Number(f[4]):0;g.y=b?Number(f[5]): 0;g.scaleX=Math.sqrt(e*e+d*d);g.scaleY=Math.sqrt(i*i+h*h);g.rotation=e||d?Math.atan2(d,e):g.rotation||0;g.skewX=h||i?Math.atan2(h,i)+g.rotation:g.skewX||0;Math.abs(g.skewX)>Math.PI/2&&(k?(g.scaleX*=-1,g.skewX+=0>=g.rotation?Math.PI:-Math.PI,g.rotation+=0>=g.rotation?Math.PI:-Math.PI):(g.scaleY*=-1,g.skewX+=0>=g.skewX?Math.PI:-Math.PI));if(1.0E-6>g.rotation&&-1.0E-6<g.rotation&&(e||d))g.rotation=0;if(1.0E-6>g.skewX&&-1.0E-6<g.skewX&&(d||h))g.skewX=0;a&&(c._gsTransform=g);return g},u=function(c,a){if(null== c||""===c||"auto"===c)c="0 0";var a=a||{},f=-1!==c.indexOf("left")?"0%":-1!==c.indexOf("right")?"100%":c.split(" ")[0],b=-1!==c.indexOf("top")?"0%":-1!==c.indexOf("bottom")?"100%":c.split(" ")[1];null==b?b="0":"center"===b&&(b="50%");"center"===f&&(f="50%");a.oxp=-1!==f.indexOf("%");a.oyp=-1!==b.indexOf("%");a.oxr="="===f.charAt(1);a.oyr="="===b.charAt(1);a.ox=parseFloat(f.replace(n,""));a.oy=parseFloat(b.replace(n,""));return a},s=function(c,a){return null==c?a:"string"===typeof c&&1===c.indexOf("=")? Number(c.split("=").join(""))+a:Number(c)},t=function(c,a){var f=-1===c.indexOf("rad")?o:1,b=1===c.indexOf("="),c=Number(c.replace(n,""))*f;return b?c+a:c},r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255, 255,255,0]};m._onInitTween=function(c,a,f){this._style=c;this._tween=f;this._transform=null;this._parseVars(a,c,a.suffixMap||l.suffixMap);return!0};m._parseVars=function(c,a,f){var b,e,d,h,i,g,k;for(b in c)if(e=c[b],"transform"===b||b===j)this._parseTransform(a,e,f);else if(B[b]||"transformOrigin"===b)this._parseTransform(a,c,f);else{if("alpha"===b||"autoAlpha"===b)b="opacity";else if("margin"===b||"padding"===b){e=(e+"").split(" ");h=e.length;d={};d[b+"Top"]=e[0];d[b+"Right"]=1<h?e[1]:e[0];d[b+"Bottom"]= 4===h?e[2]:e[0];d[b+"Left"]=4===h?e[3]:2===h?e[1]:e[0];this._parseVars(d,a,f);continue}else if("backgroundPosition"===b||"backgroundSize"===b){d=u(e);k=u(h=a[b]||"50% 50%");this._firstPT=d={_next:this._firstPT,t:a,p:b,b:h,f:!1,n:"css_"+b,type:3,s:k.ox,c:d.oxr?d.ox:d.ox-k.ox,ys:k.oy,yc:d.oyr?d.oy:d.oy-k.oy,sfx:d.oxp?"%":"px",ysfx:d.oyp?"%":"px",r:!d.oxp&&!1!==c.autoRound};d.e=d.s+d.c+d.sfx+" "+(d.ys+d.yc)+d.ysfx;continue}else if("border"===b){e=(e+"").split(" ");this._parseVars({borderWidth:e[0],borderStyle:e[1]|| "none",borderColor:e[2]||"#000000"},a,f);continue}else if("autoRound"===b)continue;h=a[b];h=null!=h?h+"":"";this._firstPT=d={_next:this._firstPT,t:a,p:b,b:h,f:!1,n:"css_"+b,sfx:"",r:!1,type:0};"opacity"===b&&null!=c.autoAlpha&&(this._firstPT=d._prev={_next:d,t:a,p:"visibility",f:!1,n:"css_visibility",r:!1,type:-1,b:0!==Number(h)?"visible":"hidden",i:"visible",e:0===Number(e)?"hidden":"visible"},this._overwriteProps.push("css_visibility"));if("color"===b||"fill"===b||"stroke"===b||-1!==b.indexOf("Color")|| "string"===typeof e&&!e.indexOf("rgb("))i=y(h),h=y(e),d.e=e,d.s=Number(i[0]),d.c=Number(h[0])-d.s,d.gs=Number(i[1]),d.gc=Number(h[1])-d.gs,d.bs=Number(i[2]),d.bc=Number(h[2])-d.bs,3<i.length||3<h.length?(d.as=4>i.length?1:Number(i[3]),d.ac=(4>h.length?1:Number(h[3]))-d.as,d.type=d.c||d.gc||d.bc||d.ac?2:-1):d.type=d.c||d.gc||d.bc?1:-1;else{i=h.replace(v,"");k=""===h||"auto"===h?"opacity"!==b?0:1:-1===h.indexOf(" ")?parseFloat(h.replace(n,"")):NaN;"string"===typeof e?(h="="===e.charAt(1),g=e.replace(v, ""),e=-1===e.indexOf(" ")?parseFloat(e.replace(n,"")):NaN):(h=!1,g="");""===g&&(g=f[b]||i);d.e=e||0===e?(h?e+k:e)+g:c[b];if(i!==g&&""!==g&&(e||0===e))if(k||0===k)throw"CSSRulePlugin error: starting and ending units don't match on tween of "+b+" ("+i+" vs "+g+")";if((k||0===k)&&(e||0===e)&&(d.c=h?e:e-k))if(d.s=k,d.sfx=g,"opacity"===b)x||(d.type=4,d.p="filter",d.b="alpha(opacity="+100*d.s+")",d.e="alpha(opacity="+100*(d.s+d.c)+")",d.dup=null!=c.autoAlpha,this._style.zoom=1);else{if(!1!==c.autoRound&& ("px"===g||"zIndex"===b))d.r=!0}else d.type=-1,d.i=d.e,d.s=d.c=0}this._overwriteProps.push("css_"+b);d._next&&(d._next._prev=d)}};m._parseTransform=function(c,a){if(!this._transform){var f=this._transform=D(c,!0),b,e,d;if("object"===typeof a){b={scaleX:s(null!=a.scaleX?a.scaleX:a.scale,f.scaleX),scaleY:s(null!=a.scaleY?a.scaleY:a.scale,f.scaleY),x:s(a.x,f.x),y:s(a.y,f.y)};null!=a.shortRotation?(b.rotation="number"===typeof a.shortRotation?a.shortRotation*o:t(a.shortRotation,f.rotation),e=(b.rotation- f.rotation)%(2*Math.PI),e!==e%Math.PI&&(e+=Math.PI*(0>e?2:-2)),b.rotation=f.rotation+e):b.rotation=null==a.rotation?f.rotation:"number"===typeof a.rotation?a.rotation*o:t(a.rotation,f.rotation);b.skewX=null==a.skewX?f.skewX:"number"===typeof a.skewX?a.skewX*o:t(a.skewX,f.skewX);b.skewY=null==a.skewY?f.skewY:"number"===typeof a.skewY?a.skewY*o:t(a.skewY,f.skewY);if(e=b.skewY-f.skewY)b.skewX+=e,b.rotation+=e;1.0E-6>b.skewY&&-1.0E-6<b.skewY&&(b.skewY=0);1.0E-6>b.skewX&&-1.0E-6<b.skewX&&(b.skewX=0);1.0E-6> b.rotation&&-1.0E-6<b.rotation&&(b.rotation=0);if(null!=(e=a.transformOrigin))j?(d=j+"Origin",this._firstPT=e={_next:this._firstPT,t:c,p:d,s:0,c:0,n:d,f:!1,r:!1,b:c[d],e:e,i:e,type:-1,sfx:""},e._next&&(e._next._prev=e)):u(e,f)}else if("string"===typeof a&&j)e=c[j],c[j]=a,b=D(c,!1),c[j]=e;else return;j?"WebkitTransform"===j&&(c[j+"Style"]="preserve-3d"):c.zoom=1;for(d in B)f[d]!==b[d]&&("shortRotation"!==d&&"scale"!==d)&&(this._firstPT=e={_next:this._firstPT,t:f,p:d,s:f[d],c:b[d]-f[d],n:d,f:!1,r:!1, b:f[d],e:b[d],type:0,sfx:0},e._next&&(e._next._prev=e),this._overwriteProps.push("css_"+d))}};m.setRatio=function(c){var a=this._firstPT,f=1.0E-6,b,e;if(1===c&&(this._tween._time===this._tween._duration||0===this._tween._time))for(;a;)a.t[a.p]=a.e,a=a._next;else if(c||!(this._tween._time===this._tween._duration||0===this._tween._time))for(;a;)b=a.c*c+a.s,a.r?b=0<b?b+0.5>>0:b-0.5>>0:b<f&&b>-f&&(b=0),a.type?1===a.type?a.t[a.p]="rgb("+(b>>0)+", "+(a.gs+c*a.gc>>0)+", "+(a.bs+c*a.bc>>0)+")":2===a.type? a.t[a.p]="rgba("+(b>>0)+", "+(a.gs+c*a.gc>>0)+", "+(a.bs+c*a.bc>>0)+", "+(a.as+c*a.ac)+")":-1===a.type?a.t[a.p]=a.i:3===a.type?(e=a.ys+c*a.yc,a.r&&(e=0<e?e+0.5>>0:e-0.5>>0),a.t[a.p]=b+a.sfx+" "+e+a.ysfx):(a.dup&&(a.t.filter=a.t.filter||"alpha(opacity=100)"),a.t.filter=-1===a.t.filter.indexOf("opacity=")?a.t.filter+(" alpha(opacity="+(100*b>>0)+")"):a.t.filter.replace(w,"opacity="+(100*b>>0))):a.t[a.p]=b+a.sfx,a=a._next;else for(;a;)a.t[a.p]=a.b,a=a._next;if(this._transform)if(a=this._transform,j&& !a.rotation&&!a.skewX)this._style[j]=(a.x||a.y?"translate("+a.x+"px,"+a.y+"px) ":"")+(1!==a.scaleX||1!==a.scaleY?"scale("+a.scaleX+","+Math.cos(a.skewX)*a.scaleY+")":"")||"translate(0px,0px)";else{b=j?a.rotation:-a.rotation;e=j?b-a.skewX:b+a.skewX;c=Math.cos(b)*a.scaleX;b=Math.sin(b)*a.scaleX;var d=Math.sin(e)*-a.scaleY;e=Math.cos(e)*a.scaleY;b<f&&b>-f&&(b=0);d<f&&d>-f&&(d=0);j?this._style[j]="matrix("+c+","+b+","+d+","+e+","+a.x+","+a.y+")":(f=b,b=-d,a=this._style.filter,this._style.filter="",f= "progid:DXImageTransform.Microsoft.Matrix(M11="+c+", M12="+b+", M21="+-f+", M22="+e+",sizingMethod='auto expand')",this._style.filter=-1!==a.indexOf("progid:DXImageTransform.Microsoft.Matrix(")?a.replace(H,f):a+" "+f)}};m._kill=function(c){var a=c,f;if(c.autoAlpha||c.alpha){a={};for(f in c)a[f]=c[f];a.opacity=1;a.autoAlpha&&(a.visibility=1)}return p.prototype._kill.call(this,a)};p.activate([l]);return l},!0)});window._gsDefine&&_gsQueue.pop()();