function init(e,t){function n(e){return typeof e!="string"?e:t.getElementById(e)}function r(e){e=n(e);e.style.display="block"}function i(e){e=n(e);e.style.display="none"}function s(e,t){function s(){e.play()}n("replay-post").addEventListener("click",s,!1);n("replay-share").addEventListener("click",s,!1);n("share-post").addEventListener("click",function(){i("post-roll");r("share")},!1);n("share-share").addEventListener("click",function(){Popcorn.nop()},!1)}function o(){var n=e.location,r=t.querySelector(".size-options a.current span.dimensions").textContent.split("x"),i=r[0],s=r[1];return'<iframe src="'+n+'" width="'+i+'" height="'+s+'" frameborder="0" mozallowfullscreen webkitallowfullscreen allowfullscreen></iframe>'}function u(){var e=t.querySelectorAll("link"),n;for(var r=0;r<e.length;r++){n=e[r];if(n.rel==="cannonical")return n.href}return""}function a(e,t){function o(e){var t=n("container");if(t.classList.contains(e))return;for(var r=0;r<s.length;r++)t.classList.remove(s[r]);t.classList.add(e)}function u(){t.autoplay&&e.play()}var s=["embed-playing","embed-paused","embed-ended"];n("share-close").addEventListener("click",function(){i("share")},!1);e.on("ended",function(){r("post-roll");o("embed-ended")});e.on("pause",function(){o("embed-paused")});e.on("playing",function(){i("post-roll");o("embed-playing")});e.on("canplay",u);if(e.readyState()>=3&&t.autoplay){e.off("canplay",u);e.play()}}var f=requirejs.config({context:"embed",baseUrl:"/src",paths:{text:"../external/require/text"}});f(["util/uri","ui/widget/controls","ui/widget/textbox","util/shims"],function(i,f,l){var c={version:"Butter-Embed-@VERSION@"},h=Popcorn.byId("Butter-Generated"),p,d=i.parse(e.location.href).queryKey;p={autohide:d.autohide==="0"?!1:!0,autoplay:d.autoplay==="1"?!0:!1,controls:d.controls==="0"?!1:!0,start:d.start|0,end:d.end|0,fullscreen:d.fullscreen==="0"?!1:function(e){if("fullScreenElement"in e)return!0;var t="khtml o ms webkit moz".split(" "),n=t.length,r;while(n--){r=t[n];if(r+"FullscreenElement"in e)return!0}return!1}(t),loop:d.loop==="1"?!0:!1,branding:d.branding==="0"?!1:!0,showinfo:d.showinfo==="0"?!1:!0};if(p.controls){f("controls",h);r("controls")}s(h,p);a(h,p);l(n("share-url"));l(n("share-iframe"));n("share-iframe").value=o();n("share-url").value=u();if(e.Butter&&console&&console.warn){console.warn("Butter Warning: page already contains Butter, removing.");delete e.Butter}e.Butter=c})}typeof require=="undefined"?Popcorn.getScript("../../external/require/require.js",function(){init(window,window.document)}):init(window,window.document);